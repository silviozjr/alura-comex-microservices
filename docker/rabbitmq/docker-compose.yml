version: "3.6"

services:
  rabbitmq:
    image: rabbitmq:3.10-management
    container_name: rabbitmq
    restart: always
    ports:
      - 5672:5672
      - 15672:15672
    volumes:
      # Usa um volume gerenciado pelo Docker em vez de uma pasta local
      - rabbitmq_data:/var/lib/rabbitmq/
    environment:
      - RABBITMQ_DEFAULT_USER=admin
      - RABBITMQ_DEFAULT_PASS=admin

  kafka:
    image: apache/kafka:latest
    ports:
      - 9092:9092

# Declara o volume no n√≠vel raiz do arquivo
volumes:
  rabbitmq_data: